!function(e){"use strict";function t(e){if(this.value=void 0,this.__deferreds=[],arguments.length>0){var t=new r(this);if("function"==typeof e)try{e(function(e){t.fulfill(e)},function(e){t.reject(e)})}catch(n){t.reject(n)}else t.fulfill(e)}}function n(e,t,n){return{resolver:e,fulfill:t,reject:n}}function r(e){this.promise=e}function i(e,t,n){var r=e[t],i=e.resolver;o(r)?c(function(){try{n=r(n),i.fulfill(n)}catch(e){i.reject(e)}}):i[t](n)}function u(e){return e&&"object"==typeof e}function o(e){return e&&"function"==typeof e}function f(){if(1===arguments.length&&Array.isArray(arguments[0]))return arguments[0];for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e}var c;"function"==typeof define&&define.amd?define(["subsequent"],function(e){return c=e,t}):"object"==typeof module&&module.exports?(module.exports=t,c=require("subsequent")):(e.Davy=t,c=e.subsequent),t.prototype.isFulfilled=!1,t.prototype.isRejected=!1,t.prototype.then=function(e,u){var o=new r(new t),f=n(o,e,u);return this.isFulfilled||this.isRejected?i(f,this.isFulfilled?t.SUCCESS:t.FAILURE,this.value):this.__deferreds.push(f),o.promise},t.SUCCESS="fulfill",t.FAILURE="reject",r.prototype.fulfill=function(e){var t=this.promise;if(!t.isFulfilled&&!t.isRejected){if(e===t)throw new TypeError("Can't resolve a promise with itself.");if(u(e)||o(e)){var n;try{n=e.then}catch(r){return void this.reject(r)}if(o(n)){var i=!1,f=this;try{n.call(e,function(e){i||(i=!0,f.fulfill(e))},function(e){i||(i=!0,f.reject(e))})}catch(r){i||this.reject(r)}return}}t.isFulfilled=!0,this.complete(e)}},r.prototype.reject=function(e){var t=this.promise;t.isFulfilled||t.isRejected||(t.isRejected=!0,this.complete(e))},r.prototype.complete=function(e){var n=this.promise,r=n.__deferreds,u=n.isFulfilled?t.SUCCESS:t.FAILURE;n.value=e;for(var o=0;o<r.length;++o)i(r[o],u,e);n.__deferreds=void 0},t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype["throw"]=function(){return this["catch"](function(e){c(function(){throw e})})},t.prototype["finally"]=function(e){return this.then(e,e)},t.prototype["yield"]=function(e){return this.then(function(){return e})},t.prototype.tap=function(e){return this.then(e)["yield"](this)},t.prototype.spread=function(e,t){return this.then(function(t){return e.apply(this,t)},t)},t.resolve=t.cast=function(e){return u(e)&&o(e.then)?e:new t(e)},t.reject=function(e){var n=t.defer();return n.reject(e),i.promise},t.defer=function(){return new r(new t)},t.each=function(e,n){var r=t.defer(),i=e.length;0===i&&r.reject(TypeError());for(var u=0;i>u;++u)n(e[u],u);return r},t.all=function(){function e(e){l.reject(e)}function n(e){return function(t){r(t,e)}}function r(t,r){return u(t)&&o(t.then)?void t.then(n(r),e):(i[r]=t,void(0===--c&&l.fulfill(i)))}var i=f(arguments),c=i.length,l=t.each(i,r);return l.promise},t.race=function(){function e(e){i.reject(e)}function n(t){return u(t)&&o(t.then)?void t.then(n,e):void i.fulfill(t)}var r=f(arguments),i=t.each(r,n);return i.promise},t.wrap=function(e){return function(){var n=new r(new t);return arguments[arguments.length++]=function(e,t){e?n.reject(e):n.fulfill(t)},e.apply(this,arguments),n.promise}}}(this);
//# sourceMappingURL=davy.min.js.map